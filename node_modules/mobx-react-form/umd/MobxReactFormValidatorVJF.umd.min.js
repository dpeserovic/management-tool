!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("_"),require("mobx")):"function"==typeof define&&define.amd?define(["_","mobx"],e):"object"==typeof exports?exports.MobxReactFormValidatorVJF=e(require("_"),require("mobx")):t.MobxReactFormValidatorVJF=e(t._,t.mobx)}("undefined"!=typeof self?self:this,function(t,e){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=19)}({0:function(e,n){e.exports=t},1:function(t,n){t.exports=e},19:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(0),u=function(t){return t&&t.__esModule?t:{default:t}}(a),l=n(1),s=function(t){return!!t&&"function"==typeof t.then&&("object"===(void 0===t?"undefined":r(t))||"function"==typeof t)},f=function(){function t(e){var n=e.config,i=void 0===n?{}:n,r=e.state,a=void 0===r?{}:r,u=e.promises,l=void 0===u?[]:u;o(this,t),this.promises=[],this.config=null,this.state=null,this.extend=null,this.validator=null,this.state=a,this.promises=l,this.extend=i.extend,this.validator=i.package||i,this.extendValidator()}return i(t,[{key:"extendValidator",value:function(){u.default.isFunction(this.extend)&&this.extend({validator:this.validator,form:this.state.form})}},{key:"validateField",value:function(t){var e=this;if(t.validators){var n=(0,l.toJS)(t.validators);u.default.isArray(n)&&n.map(function(n){return e.collectData(n,t)}),u.default.isFunction(n)&&this.collectData(n,t),this.executeValidation(t)}}},{key:"collectData",value:function(t,e){var n=this,o=this.handleFunctionResult(t,e);if(s(o)){var i=o.then(function(t){return e.setValidationAsyncData(t[0],t[1])}).then(function(){return n.executeAsyncValidation(e)}).then(function(){return e.showAsyncErrors()});return void this.promises.push(i)}e.validationFunctionsData.unshift({valid:o[0],message:o[1]})}},{key:"executeValidation",value:function(t){t.validationFunctionsData.map(function(e){return!1===e.valid&&t.invalidate(e.message)})}},{key:"executeAsyncValidation",value:function(t){!1===t.validationAsyncData.valid&&t.invalidate(t.validationAsyncData.message,!0)}},{key:"handleFunctionResult",value:function(t,e){var n=t({validator:this.validator,form:this.state.form,field:e});if(u.default.isArray(n)){return[n[0]||!1,n[1]||"Error"]}return u.default.isBoolean(n)?[n,"Error"]:u.default.isString(n)?[!1,n]:s(n)?n:[!1,"Error"]}}]),t}();e.default=function(t){return{class:f,config:t}},t.exports=e.default}})});
//# sourceMappingURL=MobxReactFormValidatorVJF.umd.min.js.map